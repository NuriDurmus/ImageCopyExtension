<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Copy & Converter</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">

        <!-- ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ -->
        <div class="header">
            <h1>üì∏ Image Uploader</h1>
            <div class="header-actions">
                <span id="headerFormatBadge" class="header-format-badge" style="display:none;">SVG</span>
                <button id="headerDownloadBtn" class="header-download-btn" title="Download" disabled>‚¨áÔ∏è</button>
            </div>
        </div>

        <div class="content">

            <!-- ‚îÄ‚îÄ INFO / STATUS ‚îÄ‚îÄ -->
            <div class="info-section" id="infoSection">
                <p class="info-text">Copy an image and enable this feature</p>
            </div>
            <div class="status-section">
                <div id="statusMessage" class="status-message"></div>
            </div>

            <!-- ‚îÄ‚îÄ CLIPBOARD PREVIEW ‚îÄ‚îÄ -->
            <div class="clipboard-preview" id="clipboardPreview" style="display:none;">
                <div class="preview-row">
                    <img id="previewImage" alt="Preview">
                    <div class="preview-meta">
                        <span id="imageInfo" class="preview-info-text"></span>
                        <button id="editClipboardBtn" class="btn-icon-action btn-edit" title="Edit Image">‚úèÔ∏è Edit</button>
                    </div>
                </div>
            </div>

            <!-- ‚îÄ‚îÄ PDF PREVIEW ‚îÄ‚îÄ -->
            <div id="pdfPickerPreview" class="pdf-preview-card" style="display:none;">
                <span class="pdf-icon">üìÑ</span>
                <span id="pdfPickerName" class="pdf-preview-name"></span>
                <button id="downloadPdfBtn" class="btn-icon-action btn-pdf" title="Download PDF">‚¨áÔ∏è PDF</button>
            </div>

            <!-- ‚îÄ‚îÄ FORMAT ROW (From ‚Üí To inline) ‚îÄ‚îÄ -->
            <div class="format-row">
                <div class="format-col">
                    <label for="sourceFormat">From</label>
                    <select id="sourceFormat" class="format-select">
                        <option value="all">All</option>
                        <option value="jpeg">JPEG</option>
                        <option value="png">PNG</option>
                        <option value="webp">WebP</option>
                        <option value="bmp">BMP</option>
                        <option value="gif">GIF</option>
                        <option value="svg">SVG</option>
                    </select>
                </div>
                <span class="format-arrow">‚Üí</span>
                <div class="format-col">
                    <label for="targetFormat">To</label>
                    <select id="targetFormat" class="format-select">
                        <option value="original">Original</option>
                        <option value="jpeg">JPEG</option>
                        <option value="png">PNG</option>
                        <option value="webp">WebP</option>
                        <option value="bmp">BMP</option>
                        <option value="gif">GIF</option>
                        <option value="svg">SVG</option>
                    </select>
                </div>
            </div>

            <!-- ‚îÄ‚îÄ QUALITY ‚îÄ‚îÄ -->
            <div class="quality-section" id="qualitySection" style="display:none;">
                <label for="quality">Quality: <strong id="qualityValue">100</strong>%</label>
                <input type="range" id="quality" min="1" max="100" value="100" class="quality-range">
            </div>

            <!-- ‚îÄ‚îÄ CONVERSION RULES ‚îÄ‚îÄ -->
            <div class="rules-bar">
                <span class="rules-label">Conversion Rules</span>
                <button id="addRuleBtn" class="btn btn-small">+ Add</button>
            </div>
            <div id="rulesList" class="rules-list"></div>

            <!-- ‚îÄ‚îÄ ENABLE / DISABLE ‚îÄ‚îÄ -->
            <div class="button-section">
                <button id="activateBtn" class="btn btn-primary">
                    <span class="btn-icon">‚úì</span> Enable Feature
                </button>
                <button id="deactivateBtn" class="btn btn-secondary" style="display:none;">
                    <span class="btn-icon">‚úó</span> Disable Feature
                </button>
            </div>

            <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                 ACCORDION ‚Äî SHORTCUTS
            ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
            <div class="accordion-group">

                <details class="accordion">
                    <summary class="accordion-summary">
                        <span class="acc-title">üñºÔ∏è Image Picker</span>
                        <span id="badge-picker" class="shortcut-badge"></span>
                        <span class="acc-chevron">‚Ä∫</span>
                    </summary>
                    <div class="accordion-body">
                        <p class="acc-hint">Hover over page images and click to copy</p>
                        <div class="shortcut-row">
                            <input type="text" id="shortcutInput" class="shortcut-input" placeholder="Click here &amp; press keys‚Ä¶" readonly>
                            <button id="clearShortcutBtn" class="btn-clear" title="Clear">‚úï</button>
                        </div>
                    </div>
                </details>

                <details class="accordion">
                    <summary class="accordion-summary">
                        <span class="acc-title">üîÑ Image Replace</span>
                        <span id="badge-replace" class="shortcut-badge"></span>
                        <span class="acc-chevron">‚Ä∫</span>
                    </summary>
                    <div class="accordion-body">
                        <p class="acc-hint">Replace page images with clipboard image</p>
                        <div class="shortcut-row">
                            <input type="text" id="replaceShortcutInput" class="shortcut-input" placeholder="Click here &amp; press keys‚Ä¶" readonly>
                            <button id="clearReplaceShortcutBtn" class="btn-clear" title="Clear">‚úï</button>
                        </div>
                    </div>
                </details>

                <details class="accordion">
                    <summary class="accordion-summary">
                        <span class="acc-title">üé® Color Picker</span>
                        <span id="badge-color" class="shortcut-badge"></span>
                        <span class="acc-chevron">‚Ä∫</span>
                    </summary>
                    <div class="accordion-body">
                        <p class="acc-hint">Pick any color from screen</p>
                        <div class="shortcut-row">
                            <input type="text" id="colorPickerShortcutInput" class="shortcut-input" placeholder="Click here &amp; press keys‚Ä¶" readonly>
                            <button id="clearColorPickerShortcutBtn" class="btn-clear" title="Clear">‚úï</button>
                        </div>
                    </div>
                </details>

                <details class="accordion">
                    <summary class="accordion-summary">
                        <span class="acc-title">üìÑ PDF Picker</span>
                        <span id="badge-pdf" class="shortcut-badge"></span>
                        <span class="acc-chevron">‚Ä∫</span>
                    </summary>
                    <div class="accordion-body">
                        <p class="acc-hint">Select PDF links ‚Äî upload without downloading</p>
                        <div class="shortcut-row">
                            <input type="text" id="pdfPickerShortcutInput" class="shortcut-input" placeholder="Click here &amp; press keys‚Ä¶" readonly>
                            <button id="clearPdfPickerShortcutBtn" class="btn-clear" title="Clear">‚úï</button>
                        </div>
                    </div>
                </details>

            </div><!-- /accordion-group -->

        </div><!-- /content -->
    </div><!-- /container -->
    <script src="popup.js"></script>
</body>
</html>
